<div class="mask" (click)="goBack()">
  <div class="container" (click)="$event.stopPropagation()">
    <div class="btns">
      <button
        nz-button
        nzType="primary"
        nzShape="circle"
        (click)="confirm()"
      >
        <i nz-icon nzType="check" nzTheme="outline"></i>
      </button>

      <button
        nz-button
        nzShape="circle"
        nz-popconfirm
        nzPopconfirmTitle="你真的要删除这条待办事项吗？"
        nzPopconfirmPlacement="bottomRight"
        (nzOnConfirm)="delete()"
        >
        <i nz-icon nzType="delete" nzTheme="outline"></i>
      </button>
    </div>

    <label nz-checkbox [(ngModel)]="currentTodo.completedFlag">标记完成</label>

    <nz-divider nzText="标题" nzOrientation="left"></nz-divider>
    <div class="input-container">
      <input
        nz-input
        placeholder="代办事项"
        [(ngModel)]="currentTodo.title"
        [disabled]="currentTodo.completedFlag"
      />
    </div>
    <nz-divider nzText="日期与提醒" nzOrientation="left"></nz-divider>
    <div class="plan-date-container input-container">
      <span class="prefix">计划日期</span>
      <nz-date-picker
        nzShowTime
        [(ngModel)]="planDate"
        [disabled]="currentTodo.completedFlag"
        [nzDisabledDate]="planDisabledDate"
        (ngModelChange)="handlePlanDateChange($event)"></nz-date-picker>
    </div>
    <div class="due-date-container input-container">
      <span class="prefix">截止日期</span>
      <nz-date-picker
        [(ngModel)]="dueDate"
        [disabled]="currentTodo.completedFlag"
        [nzDisabledDate]="dueDisabledDate"
        (ngModelChange)="handleDueDateChange($event)"></nz-date-picker>
    </div>
    <div class="input-container">
      <span class="prefix">计划提醒</span>
      <nz-switch
        [(ngModel)]="currentTodo.notiFyMe"
        [nzDisabled]="currentTodo.completedFlag"
        (click)="clickSwitch()"></nz-switch>
    </div>
    <nz-divider nzText="更多" nzOrientation="left"></nz-divider>
    <div class="input-container">
      <textarea
        nz-input
        rows="8"
        placeholder="待办详情"
        [disabled]="currentTodo.completedFlag"
        [(ngModel)]="currentTodo.desc"></textarea>
    </div>
  </div>
</div>
